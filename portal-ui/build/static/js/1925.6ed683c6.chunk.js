"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1925,3956,7015],{84669:function(e,n,t){t(72791);var r=t(91523),s=t(11135),i=t(25787),o=t(36039),a=t(64554),c=t(80184);n.Z=(0,i.Z)((function(e){return(0,s.Z)({link:{display:"block",textDecoration:"none","&:active":{color:e.palette.primary.light}},iconBox:{display:"flex",flexDirection:"row","&:hover":{background:"rgba(234,237,238)"},height:"30px",paddingBottom:4,paddingTop:8,paddingRight:16,paddingLeft:0,borderRadius:4},icon:{lineHeight:1,marginRight:"14px",alignItems:"center",width:"22px","& .min-icon":{color:e.palette.primary.light,width:"16px",height:"16px"}},label:{lineHeight:1,alignItems:"center",paddingTop:1,fontSize:"14px",fontWeight:600,color:e.palette.primary.light}})}))((function(e){var n=e.to,t=e.label,s=e.classes,i=e.className,l=e.executeOnClick;return(0,c.jsx)(a.Z,{sx:{display:"flex",alignItems:"center"},children:(0,c.jsx)(r.rU,{to:n,className:"".concat(s.link," ").concat(i||""),onClick:function(){l&&l()},children:(0,c.jsxs)("div",{className:s.iconBox,children:[(0,c.jsx)("div",{className:s.icon,children:(0,c.jsx)(o.xN,{})}),(0,c.jsx)("div",{className:s.label,children:t})]})})})}))},23956:function(e,n,t){t.r(n);var r=t(29439),s=(t(72791),t(60364)),i=t(11135),o=t(25787),a=t(51691),c=t(42649),l=t(9505),u=t(23508),d=t(36039),h=t(80184),f={setErrorSnackMessage:c.Ih},m=(0,s.$j)(null,f);n.default=(0,o.Z)((function(e){return(0,i.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}})}))(m((function(e){var n=e.classes,t=e.closeDeleteModalAndRefresh,s=e.deleteOpen,i=e.selectedServiceAccount,o=e.setErrorSnackMessage,c=(0,l.Z)((function(){return t(!0)}),(function(e){return o(e)})),f=(0,r.Z)(c,2),m=f[0],p=f[1];if(!i)return null;return(0,h.jsx)(u.Z,{title:"Delete Service Account",confirmText:"Delete",isOpen:s,titleIcon:(0,h.jsx)(d.Nv,{}),isLoading:m,onConfirm:function(){p("DELETE","/api/v1/service-accounts/".concat(i))},onClose:function(){return t(!1)},confirmationContent:(0,h.jsxs)(a.Z,{children:["Are you sure you want to delete service account"," ",(0,h.jsx)("b",{className:n.wrapText,children:i}),"?"]})})})))},81806:function(e,n,t){var r=t(1413),s=t(45987),i=(t(72791),t(11135)),o=t(25787),a=t(80184),c=["classes","children"];n.Z=(0,o.Z)((function(e){return(0,i.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var n=e.classes,t=e.children,i=(0,s.Z)(e,c);return(0,a.jsx)("button",(0,r.Z)((0,r.Z)({},i),{},{className:n.root,children:t}))}))},37798:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var r=t(1413),s=t(72791),i=t(26181),o=t.n(i),a=t(11135),c=t(25787),l=t(56028),u=t(61889),d=t(77196),h=t(63466),f=t(85531),m=t(78029),p=t.n(m),x=t(36039),Z=t(23814),g=t(80184),v=(0,c.Z)((function(e){return(0,a.Z)({container:{display:"flex",flexFlow:"column",padding:"20px 0 8px 0"},inputWithCopy:{"& .MuiInputBase-root ":{width:"100%",background:"#FBFAFA","& .MuiInputBase-input":{height:".8rem"},"& .MuiInputAdornment-positionEnd":{marginRight:".5rem","& .MuiButtonBase-root":{height:"2rem"}}},"& .MuiButtonBase-root .min-icon":{width:".8rem",height:".8rem"}},inputLabel:(0,r.Z)((0,r.Z)({},Z.YI.inputLabel),{},{fontSize:".8rem"})})}))((function(e){var n=e.label,t=void 0===n?"":n,r=e.value,s=void 0===r?"":r,i=e.classes,o=void 0===i?{}:i;return(0,g.jsxs)("div",{className:o.container,children:[(0,g.jsxs)("div",{className:o.inputLabel,children:[t,":"]}),(0,g.jsx)("div",{className:o.inputWithCopy,children:(0,g.jsx)(d.Z,{value:s,readOnly:!0,endAdornment:(0,g.jsx)(h.Z,{position:"end",children:(0,g.jsx)(p(),{text:s,children:(0,g.jsx)(f.Z,{"aria-label":"copy",tooltip:"Copy",onClick:function(){},onMouseDown:function(){},edge:"end",children:(0,g.jsx)(x.TI,{})})})})})})]})})),j=t(89357),y=t(40603),b=function(e,n){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),t.setAttribute("download",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},S=(0,c.Z)((function(e){return(0,a.Z)({warningBlock:{color:"red",fontSize:".85rem",margin:".5rem 0 .5rem 0",display:"flex",alignItems:"center","& svg ":{marginRight:".3rem",height:16,width:16}},credentialTitle:{padding:".8rem 0 0 0",fontWeight:600,fontSize:".9rem"},buttonContainer:{textAlign:"right",marginTop:"1rem"},credentialsPanel:{overflowY:"auto",maxHeight:350},promptTitle:{display:"flex",alignItems:"center"},buttonSpacer:{marginRight:".9rem"},promptIcon:{marginRight:".1rem",display:"flex",alignItems:"center",height:"2rem",width:"2rem"}})}))((function(e){var n=e.classes,t=e.newServiceAccount,i=e.open,a=e.closeModal,c=e.entity;if(!t)return null;var d=o()(t,"console",null),h=o()(t,"idp",!1);return(0,g.jsx)(l.Z,{modalOpen:i,onClose:function(){a()},title:(0,g.jsx)("div",{className:n.promptTitle,children:(0,g.jsxs)("div",{children:["New ",c," Created"]})}),titleIcon:(0,g.jsx)(x.tV,{}),children:(0,g.jsxs)(u.ZP,{container:!0,children:[(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.formScrollable,children:["A new ",c," has been created with the following details:",!h&&d&&(0,g.jsx)(s.Fragment,{children:(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.credentialsPanel,children:[(0,g.jsx)("div",{className:n.credentialTitle,children:"Console Credentials"}),Array.isArray(d)&&d.map((function(e,n){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v,{label:"Access Key",value:e.accessKey}),(0,g.jsx)(v,{label:"Secret Key",value:e.secretKey})]})})),!Array.isArray(d)&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(v,{label:"Access Key",value:d.accessKey}),(0,g.jsx)(v,{label:"Secret Key",value:d.secretKey})]})]})}),h?(0,g.jsx)("div",{className:n.warningBlock,children:"Please Login via the configured external identity provider."}):(0,g.jsxs)("div",{className:n.warningBlock,children:[(0,g.jsx)(j.Z,{}),(0,g.jsx)("span",{children:"Write these down, as this is the only time the secret will be displayed."})]})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,className:n.buttonContainer,children:!h&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y.Z,{id:"download-button",tooltip:"Download credentials in a JSON file formatted for import using mc alias import. This will only include the default login credentials.",text:"Download for import",className:n.buttonSpacer,onClick:function(){var e={};d&&(e=Array.isArray(d)?d.map((function(e){return{url:e.url,accessKey:e.accessKey,secretKey:e.secretKey,api:"s3v4",path:"auto"}}))[0]:{url:d.url,accessKey:d.accessKey,secretKey:d.secretKey,api:"s3v4",path:"auto"});b("credentials.json",JSON.stringify((0,r.Z)({},e)))},icon:(0,g.jsx)(x._8,{}),variant:"contained",color:"primary"}),Array.isArray(d)&&d.length>1&&(0,g.jsx)(y.Z,{id:"download-all-button",tooltip:"Download all access credentials to a JSON file. NOTE: This file is not formatted for import using mc alias import. If you plan to import this alias from the file, please use the Download for Import button. ",text:"Download all access credentials",className:n.buttonSpacer,onClick:function(){var e={};d&&(e=d.map((function(e){return{accessKey:e.accessKey,secretKey:e.secretKey}})));b("all_credentials.json",JSON.stringify((0,r.Z)({},e)))},icon:(0,g.jsx)(x._8,{}),variant:"contained",color:"primary"})]})})]})})}))},60680:function(e,n,t){t(72791);var r=t(11135),s=t(25787),i=t(80184);n.Z=(0,s.Z)((function(e){return(0,r.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,i.jsx)("h1",{className:n.root,children:t})}))},14917:function(e,n,t){t(72791);var r=t(61889),s=t(11135),i=t(25787),o=t(80184);n.Z=(0,i.Z)((function(e){return(0,s.Z)({headerBarIcon:{marginRight:".7rem",color:e.palette.primary.main,"& .min-icon":{width:44,height:44}},headerBarSubheader:{color:"grey","@media (max-width: 900px)":{maxWidth:200}},screenTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",borderBottom:"1px solid #EAEAEA","@media (max-width: 600px)":{flexFlow:"column"}},titleColumn:{height:"auto",justifyContent:"center",display:"flex",flexFlow:"column",alignItems:"flex-start","& h1":{fontSize:19}},leftItems:{display:"flex",alignItems:"center","@media (max-width: 600px)":{flexFlow:"column"}},rightItems:{display:"flex",alignItems:"center"}})}))((function(e){var n=e.classes,t=e.icon,s=e.title,i=e.subTitle,a=e.actions,c=e.className;return(0,o.jsx)(r.ZP,{container:!0,children:(0,o.jsxs)(r.ZP,{item:!0,xs:12,className:"".concat(n.screenTitle," ").concat(c||""),children:[(0,o.jsxs)("div",{className:n.leftItems,children:[t?(0,o.jsx)("div",{className:n.headerBarIcon,children:t}):null,(0,o.jsxs)("div",{className:n.titleColumn,children:[(0,o.jsx)("h1",{style:{margin:0},children:s}),(0,o.jsx)("span",{className:n.headerBarSubheader,children:i})]})]}),(0,o.jsx)("div",{className:n.rightItems,children:a})]})})}))},14662:function(e,n,t){t.d(n,{Z:function(){return T}});var r=t(1413),s=t(29439),i=t(72791),o=t(64554),a=t(43896),c=t(80184),l=i.createContext(null);function u(e){var n=e.children,t=e.value,r=function(){var e=i.useState(null),n=(0,s.Z)(e,2),t=n[0],r=n[1];return i.useEffect((function(){r("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),t}(),o=i.useMemo((function(){return{idPrefix:r,value:t}}),[r,t]);return(0,c.jsx)(l.Provider,{value:o,children:n})}function d(){return i.useContext(l)}function h(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(n)}function f(e,n){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(n)}var m=t(87462),p=t(63366),x=t(18073),Z=["children"],g=i.forwardRef((function(e,n){var t=e.children,r=(0,p.Z)(e,Z),s=d();if(null===s)throw new TypeError("No TabContext provided");var o=i.Children.map(t,(function(e){return i.isValidElement(e)?i.cloneElement(e,{"aria-controls":h(s,e.props.value),id:f(s,e.props.value)}):null}));return(0,c.jsx)(x.Z,(0,m.Z)({},r,{ref:n,value:s.value,children:o}))})),v=t(28182),j=t(47630),y=t(93736),b=t(90767),S=t(95159);function C(e){return(0,S.Z)("MuiTabPanel",e)}(0,t(30208).Z)("MuiTabPanel",["root"]);var k=["children","className","value"],A=(0,j.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,n){return n.root}})((function(e){return{padding:e.theme.spacing(3)}})),w=i.forwardRef((function(e,n){var t=(0,y.Z)({props:e,name:"MuiTabPanel"}),r=t.children,s=t.className,i=t.value,o=(0,p.Z)(t,k),a=(0,m.Z)({},t),l=function(e){var n=e.classes;return(0,b.Z)({root:["root"]},C,n)}(a),u=d();if(null===u)throw new TypeError("No TabContext provided");var x=h(u,i),Z=f(u,i);return(0,c.jsx)(A,(0,m.Z)({"aria-labelledby":Z,className:(0,v.Z)(l.root,s),hidden:i!==u.value,id:x,ref:n,role:"tabpanel",ownerState:a},o,{children:i===u.value&&r}))})),N=t(25787),P=t(13967),E=t(11135),M=t(95193),R={minHeight:60},T=(0,N.Z)((function(e){return(0,E.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,l=e.selectedTab,d=void 0===l?"0":l,h=e.routes,f=e.isRouteTabs,m=i.useState(d),p=(0,s.Z)(m,2),x=p[0],Z=p[1],v=(0,P.Z)(),j=(0,M.Z)(v.breakpoints.down("md")),y=[],b=[];return n?(n.forEach((function(e){y.push(e.tabConfig),b.push(e.content)})),(0,c.jsx)(u,{value:"".concat(x),children:(0,c.jsxs)(o.Z,{className:t.tabsContainer,children:[(0,c.jsx)(o.Z,{className:t.tabsHeaderContainer,children:(0,c.jsx)(g,{onChange:function(e,n){Z(n)},orientation:j?"horizontal":"vertical",variant:j?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:y.map((function(e,n){return e?(0,c.jsx)(a.Z,(0,r.Z)((0,r.Z)({className:t.tabHeader,value:"".concat(n),style:R},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,c.jsxs)(o.Z,{className:t.tabContentContainer,children:[f?null:b.map((function(e,n){return(0,c.jsx)(w,{classes:(0,r.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),f?(0,c.jsx)("div",{className:t.tabPanel,children:h}):null]})]})})):null}))},58400:function(e,n,t){var r=t(93433),s=t(29439),i=t(1413),o=t(72791),a=t(60364),c=t(11135),l=t(25787),u=t(40986),d=t(61889),h=t(21639),f=t(23814),m=t(42649),p=t(81207),x=t(92983),Z=t(59114),g=t(80184),v=(0,a.$j)(null,{setModalErrorSnackMessage:m.zb});n.Z=(0,l.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,i.Z)({},f.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},f.qg),f.VX),f.OR),f.jY))}))(v((function(e){var n=e.classes,t=e.selectedPolicy,i=void 0===t?[]:t,a=e.setSelectedPolicy,c=e.setModalErrorSnackMessage,l=(0,o.useState)([]),f=(0,s.Z)(l,2),m=f[0],v=f[1],j=(0,o.useState)(!1),y=(0,s.Z)(j,2),b=y[0],S=y[1],C=(0,o.useState)(""),k=(0,s.Z)(C,2),A=k[0],w=k[1],N=(0,o.useCallback)((function(){S(!0),p.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;S(!1),v(n.sort(h.g4))})).catch((function(e){S(!1),c(e)}))}),[c]);(0,o.useEffect)((function(){S(!0)}),[]),(0,o.useEffect)((function(){b&&N()}),[b,N]);var P=m.filter((function(e){return e.name.includes(A)}));return(0,g.jsx)(o.Fragment,{children:(0,g.jsxs)(d.ZP,{item:!0,xs:12,children:[b&&(0,g.jsx)(u.Z,{}),m.length>0?(0,g.jsxs)(o.Fragment,{children:[(0,g.jsxs)(d.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,g.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,g.jsx)("div",{className:n.searchBox,children:(0,g.jsx)(Z.Z,{placeholder:"Filter Policy",onChange:function(e){w(e)},value:A})})]}),(0,g.jsx)(d.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,g.jsx)(x.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,s=n.checked,o=(0,r.Z)(i);s?o.push(t):o=o.filter((function(e){return e!==t})),o=o.filter((function(e){return""!==e})),a(o)},selectedItems:i,isLoading:b,records:P,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,g.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})})))},83658:function(e,n,t){var r=t(93433),s=t(29439),i=t(1413),o=t(72791),a=t(60364),c=t(11135),l=t(25787),u=t(40986),d=t(26181),h=t.n(d),f=t(61889),m=t(21639),p=t(23814),x=t(42649),Z=t(81207),g=t(92983),v=t(59114),j=t(80184),y={setModalErrorSnackMessage:x.zb},b=(0,a.$j)(null,y);n.Z=(0,l.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({noFound:{textAlign:"center",padding:"10px 0"},actionsTitle:{fontWeight:400,color:"#000",fontSize:14,alignSelf:"center",marginRight:48,"@media (max-width: 900px)":{marginRight:0}},searchBox:{flex:1,marginLeft:"2rem"}},p.VX),p.OR),p.jY))}))(b((function(e){var n=e.classes,t=e.selectedGroups,i=e.setSelectedGroups,a=e.setModalErrorSnackMessage,c=(0,o.useState)([]),l=(0,s.Z)(c,2),d=l[0],p=l[1],x=(0,o.useState)(!1),y=(0,s.Z)(x,2),b=y[0],S=y[1],C=(0,o.useState)(""),k=(0,s.Z)(C,2),A=k[0],w=k[1],N=(0,o.useCallback)((function(){Z.Z.invoke("GET","/api/v1/groups").then((function(e){var n=h()(e,"groups",[]);n||(n=[]),p(n.sort(m.V2)),S(!1)})).catch((function(e){a(e),S(!1)}))}),[a]);(0,o.useEffect)((function(){S(!0)}),[]),(0,o.useEffect)((function(){b&&N()}),[b,N]);var P=t||[],E=d.filter((function(e){return e.includes(A)}));return(0,j.jsx)(o.Fragment,{children:(0,j.jsxs)(f.ZP,{item:!0,xs:12,children:[b&&(0,j.jsx)(u.Z,{}),null!==d&&d.length>0?(0,j.jsxs)(o.Fragment,{children:[(0,j.jsxs)(f.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,j.jsx)("label",{className:n.actionsTitle,children:"Assign Groups"}),(0,j.jsx)("div",{className:n.searchBox,children:(0,j.jsx)(v.Z,{placeholder:"Filter Groups",adornmentPosition:"end",onChange:w,value:A})})]}),(0,j.jsx)(f.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,j.jsx)(g.Z,{columns:[{label:"Group",elementKey:""}],onSelect:function(e){var n=e.target,t=n.value,s=n.checked,o=(0,r.Z)(P);return s?o.push(t):o=o.filter((function(e){return e!==t})),i(o),o},selectedItems:P,isLoading:b,records:E,entityName:"Groups",idField:"",customPaperHeight:n.multiSelectTable})})]}):(0,j.jsx)("div",{className:n.noFound,children:"No Groups Available"})]})})})))},27573:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ee}});var r=t(72791),s=t(62666),i=t(79271),o=t(60364),a=t(42649),c=t(50099),l=t(37762),u=t(93433),d=t(29439),h=t(15861),f=t(1413),m=t(87757),p=t.n(m),x=t(11135),Z=t(25787),g=t(81207),v=t(61889),j=t(40986),y=t(21639),b=t(36039),S=t(23814),C=t(92983),k=t(32291),A=t(45248),w=t(23804),N=t(81806),P=t(74794),E=t(59114),M=t(75578),R=t(56087),T=t(40603),I=t(38442),F=t(80184),D=(0,M.Z)(r.lazy((function(){return t.e(2424).then(t.bind(t,2424))}))),B=(0,M.Z)(r.lazy((function(){return t.e(8771).then(t.bind(t,39134))}))),O=(0,M.Z)(r.lazy((function(){return t.e(9076).then(t.bind(t,49076))}))),U=(0,M.Z)(r.lazy((function(){return t.e(9221).then(t.bind(t,49221))})));function K(){return(K=(0,h.Z)(p().mark((function e(){var n,t,r,s,i,o,a,c,u,d,h,f;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.invoke("GET","/api/v1/groups");case 2:n=e.sent,t=n.groups,console.log(t),r=[],s=(0,l.Z)(t),e.prev=7,s.s();case 9:if((i=s.n()).done){e.next=37;break}return o=i.value,e.next=13,g.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(o)));case 13:a=e.sent,c=a.members,console.log(c),u=(0,l.Z)(c),e.prev=17,u.s();case 19:if((d=u.n()).done){e.next=27;break}return h=d.value,e.next=23,g.Z.invoke("GET","/api/v1/user?name=".concat(encodeURI(h)));case 23:f=e.sent,r.push(f);case 25:e.next=19;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(17),u.e(e.t0);case 32:return e.prev=32,u.f(),e.finish(32);case 35:e.next=9;break;case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(7),s.e(e.t1);case 42:return e.prev=42,s.f(),e.finish(42);case 45:return e.abrupt("return",{users:r,total_users:0});case 46:case"end":return e.stop()}}),e,null,[[7,39,42,45],[17,29,32,35]])})))).apply(this,arguments)}var L={setErrorSnackMessage:a.Ih},_=(0,o.$j)(null,L),z=(0,Z.Z)((function(e){return(0,x.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)({},S.OR),S.qg),{},{searchField:(0,f.Z)((0,f.Z)({},S.qg.searchField),{},{marginRight:"auto",maxWidth:380})},S.VX),(0,S.Bz)(e.spacing(4))))}))(_((function(e){var n=e.classes,t=e.setErrorSnackMessage,s=e.history,i=(0,r.useState)([]),o=(0,d.Z)(i,2),a=o[0],c=o[1],l=(0,r.useState)(!0),h=(0,d.Z)(l,2),f=h[0],m=h[1],p=(0,r.useState)(!1),x=(0,d.Z)(p,2),Z=x[0],g=x[1],S=(0,r.useState)(!1),M=(0,d.Z)(S,2),L=M[0],_=M[1],z=(0,r.useState)(null),G=(0,d.Z)(z,2),V=G[0],W=G[1],H=(0,r.useState)(!1),$=(0,d.Z)(H,2),q=$[0],X=$[1],Y=(0,r.useState)(""),J=(0,d.Z)(Y,2),Q=J[0],ee=J[1],ne=(0,r.useState)([]),te=(0,d.Z)(ne,2),re=te[0],se=te[1],ie=(0,r.useState)(!1),oe=(0,d.Z)(ie,2),ae=oe[0],ce=oe[1],le=(0,I.F)(R.C3,[R.Ft.ADMIN_LIST_GROUPS]),ue=(0,I.F)(R.C3,[R.Ft.ADMIN_DELETE_USER]),de=(0,I.F)(R.C3,[R.Ft.ADMIN_GET_USER]),he=(0,I.F)(R.C3,[R.Ft.ADMIN_ADD_USER_TO_GROUP]);(0,r.useEffect)((function(){f&&(le?function(){return K.apply(this,arguments)}().then((function(e){var n=null===e.users?[]:e.users;m(!1),c(n.sort(y.LQ))})).catch((function(e){m(!1),t(e)})):m(!1))}),[f,t,le]);var fe=a.filter((function(e){return e.accessKey.includes(Q)})),me=(0,A.le)(localStorage.getItem("userLoggedIn")||""),pe=[{type:"view",onClick:function(e){s.push("".concat(R.gA.USERS,"/").concat(encodeURI(e.accessKey)))},disableButtonFunction:function(){return!de}},{type:"delete",onClick:function(e){_(!0),W(e)},disableButtonFunction:function(e){return e===me||!ue}}];return(0,F.jsxs)(r.Fragment,{children:[Z&&(0,F.jsx)(D,{open:Z,selectedUser:V,closeModalAndRefresh:function(){g(!1),m(!0)}}),ae&&(0,F.jsx)(B,{open:ae,selectedUser:V,selectedGroup:null,closeModalAndRefresh:function(){ce(!1),m(!0)}}),L&&(0,F.jsx)(O,{deleteOpen:L,selectedUser:V,closeDeleteModalAndRefresh:function(e){!function(e){_(!1),e&&m(!0)}(e)}}),q&&(0,F.jsx)(U,{open:q,checkedUsers:re,closeModalAndRefresh:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];X(!1),e&&se([])}(e)}}),(0,F.jsx)(k.Z,{label:"Users"}),(0,F.jsxs)(P.Z,{children:[(0,F.jsxs)(v.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,F.jsx)(E.Z,{placeholder:"Search Users",onChange:ee,overrideClass:n.searchField,value:Q}),(0,F.jsx)(I.s,{scopes:[R.Ft.ADMIN_ADD_USER_TO_GROUP],resource:R.C3,errorProps:{disabled:!0},children:(0,F.jsx)(T.Z,{tooltip:"Add to Group",text:"Add to Group",icon:(0,F.jsx)(b.ww,{}),color:"primary",disabled:re.length<=0,onClick:function(){re.length>0&&X(!0)},variant:"outlined"})}),(0,F.jsx)(I.s,{scopes:[R.Ft.ADMIN_CREATE_USER],resource:R.HQ,matchAll:!0,errorProps:{disabled:!0},children:(0,F.jsx)(T.Z,{tooltip:"Create User",text:"Create User",icon:(0,F.jsx)(b.dt,{}),color:"primary",onClick:function(){g(!0),W(null)},variant:"contained"})})]}),f&&(0,F.jsx)(j.Z,{}),!f&&(0,F.jsxs)(r.Fragment,{children:[a.length>0&&(0,F.jsxs)(r.Fragment,{children:[(0,F.jsx)(v.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,F.jsx)(I.s,{scopes:[R.Ft.ADMIN_LIST_USERS],resource:R.C3,errorProps:{disabled:!0},children:(0,F.jsx)(C.Z,{itemActions:pe,columns:[{label:"Access Key",elementKey:"accessKey"}],onSelect:he?function(e){var n=e.target,t=n.value,r=n.checked,s=(0,u.Z)(re);return r?s.push(t):s=s.filter((function(e){return e!==t})),se(s),s}:void 0,selectedItems:re,isLoading:f,records:fe,entityName:"Users",idField:"accessKey"})})}),(0,F.jsx)(v.ZP,{item:!0,xs:12,marginTop:"25px",children:(0,F.jsx)(w.Z,{title:"Users",iconComponent:(0,F.jsx)(b.oy,{}),help:(0,F.jsxs)(r.Fragment,{children:["A avilon ROBOTICS user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing avilon ROBOTICS user.",(0,F.jsx)("br",{})]})})})]}),0===a.length&&(0,F.jsx)(v.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,F.jsx)(v.ZP,{item:!0,xs:8,children:(0,F.jsx)(w.Z,{title:"Users",iconComponent:(0,F.jsx)(b.oy,{}),help:(0,F.jsxs)(r.Fragment,{children:["A MinIO user consists of a unique access key (username) and corresponding secret key (password). Clients must authenticate their identity by specifying both a valid access key (username) and the corresponding secret key (password) of an existing MinIO user.",(0,F.jsx)("br",{}),(0,F.jsx)("br",{}),"Each user can have one or more assigned policies that explicitly list the actions and resources to which that user has access. Users can also inherit policies from the groups in which they have membership.",(0,F.jsx)(I.s,{scopes:[R.Ft.ADMIN_CREATE_USER,R.Ft.ADMIN_LIST_USER_POLICIES,R.Ft.ADMIN_LIST_GROUPS],matchAll:!0,resource:R.C3,children:(0,F.jsxs)(r.Fragment,{children:[(0,F.jsx)("br",{}),(0,F.jsx)("br",{}),"To get started,"," ",(0,F.jsx)(N.Z,{onClick:function(){g(!0),W(null)},children:"Create a User"}),"."]})})]})})})})]})]})]})}))),G=t(36151),V=t(83658),W=t(56028),H=t(54163),$={setModalErrorSnackMessage:a.zb},q=(0,o.$j)(null,$),X=(0,Z.Z)((function(e){return(0,x.Z)((0,f.Z)((0,f.Z)({buttonContainer:{textAlign:"right"}},S.bK),S.oO))}))(q((function(e){var n=e.classes,t=e.closeModalAndRefresh,s=e.selectedUser,i=e.open,o=e.setModalErrorSnackMessage,a=(0,r.useState)(!1),c=(0,d.Z)(a,2),l=c[0],u=c[1],h=(0,r.useState)(""),f=(0,d.Z)(h,2),m=f[0],p=f[1],x=(0,r.useState)(""),Z=(0,d.Z)(x,2),y=Z[0],b=Z[1],S=(0,r.useState)(!1),C=(0,d.Z)(S,2),k=C[0],A=C[1],w=(0,r.useState)([]),N=(0,d.Z)(w,2),P=N[0],E=N[1],M=(0,r.useCallback)((function(){if(!s)return null;g.Z.invoke("GET","/api/v1/user?name=".concat(encodeURI(s))).then((function(e){u(!1),p(e.accessKey),E(e.memberOf||[]),A("enabled"===e.status)})).catch((function(e){u(!1),o(e)}))}),[s,o]);(0,r.useEffect)((function(){null===s?(p(""),b(""),E([])):M()}),[s,M]);var R=""!==m.trim()&&(""!==y.trim()&&null===s||null!==s);return(0,F.jsx)(W.Z,{onClose:function(){t()},modalOpen:i,title:"Set Groups",titleIcon:(0,F.jsx)(H.Z,{}),children:(0,F.jsx)(r.Fragment,{children:(0,F.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),l||(u(!0),null!==s?g.Z.invoke("PUT","/api/v1/user?name=".concat(encodeURI(s)),{status:k?"enabled":"disabled",groups:P}).then((function(e){u(!1),t()})).catch((function(e){u(!1),o(e)})):g.Z.invoke("POST","/api/v1/users",{accessKey:m,secretKey:y,groups:P}).then((function(e){u(!1),t()})).catch((function(e){u(!1),o(e)})))},children:(0,F.jsxs)(v.ZP,{container:!0,children:[(0,F.jsx)(v.ZP,{item:!0,xs:12,className:n.formScrollable,children:(0,F.jsx)(V.Z,{selectedGroups:P,setSelectedGroups:function(e){E(e)}})}),(0,F.jsxs)(v.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,F.jsx)(G.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){null===s?(p(""),b(""),E([])):E([])},children:"Clear"}),(0,F.jsx)(G.Z,{type:"submit",variant:"contained",color:"primary",disabled:l||!R,children:"Save"})]}),l&&(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsx)(j.Z,{})})]})})})})}))),Y=t(58400),J={setModalErrorSnackMessage:a.zb},Q=(0,o.$j)(null,J),ee=(0,Z.Z)((function(e){return(0,x.Z)((0,f.Z)((0,f.Z)({},S.oO),{},{buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(Q((function(e){var n=e.classes,t=e.closeModalAndRefresh,s=e.selectedUser,i=e.currentPolicies,o=e.setModalErrorSnackMessage,a=e.open,c=(0,r.useState)(!1),u=(0,d.Z)(c,2),h=u[0],f=u[1],m=(0,r.useState)([]),p=(0,d.Z)(m,2),x=p[0],Z=p[1],y=(0,r.useState)([]),b=(0,d.Z)(y,2),S=b[0],C=b[1];return(0,r.useEffect)((function(){if(a){var e,n=[],t=(0,l.Z)(i);try{for(t.s();!(e=t.n()).done;){var r=e.value;n.push(r.policy)}}catch(s){t.e(s)}finally{t.f()}Z(n),C(n)}}),[a,s]),(0,F.jsxs)(W.Z,{onClose:function(){t()},modalOpen:a,title:"Set Policies",children:[(0,F.jsx)(Y.Z,{selectedPolicy:S,setSelectedPolicy:C}),(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsx)("br",{})}),(0,F.jsxs)(v.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,F.jsx)("button",{type:"button",color:"primary",className:n.clearButton,onClick:function(){C(x)},children:"Reset"}),(0,F.jsx)(G.Z,{type:"button",variant:"contained",color:"primary",disabled:h,onClick:function(){var e=s;f(!0),g.Z.invoke("PUT","/api/v1/set-policy",{name:S,entityName:e,entityType:"user"}).then((function(){f(!1),t()})).catch((function(e){f(!1),o(e)}))},children:"Save"})]}),h&&(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsx)(j.Z,{})})]})}))),ne=t(64554),te=t(92217),re=t(37516),se=t(21435),ie={setModalErrorSnackMessage:a.zb},oe=(0,o.$j)(null,ie),ae=(0,Z.Z)((function(e){return(0,x.Z)((0,f.Z)((0,f.Z)({},S.bl),S.ID))}))(oe((function(e){var n=e.classes,t=e.open,s=e.closeModalAndRefresh,i=e.setModalErrorSnackMessage,o=e.user,a=(0,r.useState)(!1),c=(0,d.Z)(a,2),l=c[0],u=c[1],h=(0,r.useState)(""),f=(0,d.Z)(h,2),m=f[0],p=f[1],x=(0,r.useState)(""),Z=(0,d.Z)(x,2),y=Z[0],b=Z[1],S=(0,r.useState)(""),C=(0,d.Z)(S,2),k=C[0],A=C[1],w=(0,r.useState)(!1),N=(0,d.Z)(w,2),P=N[0],E=N[1],M=(0,r.useState)(!1),R=(0,d.Z)(M,2),T=R[0],I=R[1];(0,r.useEffect)((function(){l&&(T?g.Z.invoke("POST","/api/v1/user/".concat(o,"/service-account-credentials"),{policy:m,accessKey:y,secretKey:k}).then((function(e){u(!1),s(e)})).catch((function(e){u(!1),i(e)})):g.Z.invoke("POST","/api/v1/user/".concat(o,"/service-accounts"),{policy:m}).then((function(e){u(!1),s(e)})).catch((function(e){u(!1),i(e)})))}),[l,u,i,m,s,o,T,y,k]);return(0,F.jsx)(W.Z,{modalOpen:t,onClose:function(){s(null)},title:"Create Service Account",children:(0,F.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),u(!0)}(e)},children:[(0,F.jsxs)(v.ZP,{container:!0,className:n.modalFormScrollable,children:[(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsxs)("div",{className:n.infoDetails,children:["Service Accounts inherit the policy explicitly attached to the parent user and the policy attached to each group in which the parent user has membership. You can specify an optional JSON-formatted policy below to restrict the Service Account access to a subset of actions and resources explicitly allowed for the parent user.",(0,F.jsx)(ne.Z,{sx:{paddingTop:"15px",paddingBottom:"15px"},children:"You cannot modify the Service Account optional policy after saving."})]})}),(0,F.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,F.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,F.jsx)(re.Z,{value:"locking",id:"locking",name:"locking",checked:T,onChange:function(e){I(e.target.checked)},label:"Customize Credentials"}),T&&(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsxs)("div",{className:n.stackedInputs,children:[(0,F.jsx)(se.Z,{value:y,label:"Access Key",id:"accessKey",name:"accessKey",placeholder:"Enter Access Key",onChange:function(e){b(e.target.value)}}),(0,F.jsx)(se.Z,{value:k,label:"Secret Key",id:"secretKey",name:"secretKey",placeholder:"Enter Secret Key",onChange:function(e){A(e.target.value)}})]})})]}),(0,F.jsxs)(v.ZP,{item:!0,xs:12,children:[(0,F.jsx)(re.Z,{value:"locking",id:"locking",name:"locking",checked:P,onChange:function(e){E(e.target.checked)},label:"Restrict with policy"}),P&&(0,F.jsx)(v.ZP,{item:!0,xs:12,className:n.codeMirrorContainer,children:(0,F.jsx)(te.Z,{label:"Policy ",value:m,onBeforeChange:function(e,n,t){p(t)}})})]})]})]}),(0,F.jsxs)(v.ZP,{container:!0,children:[(0,F.jsxs)(v.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,F.jsx)(G.Z,{type:"button",color:"primary",variant:"outlined",onClick:function(){p("")},children:"Clear"}),(0,F.jsx)(G.Z,{type:"submit",variant:"contained",color:"primary",disabled:l,children:"Create"})]}),l&&(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsx)(j.Z,{})})]})]})})}))),ce=t(23956),le=t(37798),ue=t(60680),de=t(18303),he=t(58493),fe=t(14048),me=(0,o.$j)((function(e){return{session:e.console.session}}),{setErrorSnackMessage:a.Ih}),pe=(0,Z.Z)((function(e){return(0,x.Z)((0,f.Z)((0,f.Z)((0,f.Z)({},S.qg),S.OR),{},{actionsTray:(0,f.Z)({},S.OR.actionsTray)},S.VX))}))(me((function(e){var n=e.classes,t=e.user,s=e.setErrorSnackMessage,i=e.hasPolicy,o=(0,r.useState)([]),c=(0,d.Z)(o,2),l=c[0],u=c[1],h=(0,r.useState)(!1),f=(0,d.Z)(h,2),m=f[0],p=f[1],x=(0,r.useState)(!1),Z=(0,d.Z)(x,2),v=Z[0],j=Z[1],S=(0,r.useState)(!1),k=(0,d.Z)(S,2),A=k[0],w=k[1],N=(0,r.useState)(null),P=(0,d.Z)(N,2),E=P[0],M=P[1],R=(0,r.useState)(!1),I=(0,d.Z)(R,2),D=I[0],B=I[1],O=(0,r.useState)(null),U=(0,d.Z)(O,2),K=U[0],L=U[1],_=(0,r.useState)([]),z=(0,d.Z)(_,2),G=z[0],V=z[1],W=(0,r.useState)(!1),H=(0,d.Z)(W,2),$=H[0],q=H[1],X=(0,r.useState)(!1),Y=(0,d.Z)(X,2),J=Y[0],Q=Y[1];(0,r.useEffect)((function(){ee()}),[]),(0,r.useEffect)((function(){m&&g.Z.invoke("GET","/api/v1/user/".concat(t,"/service-accounts")).then((function(e){var n=e.sort(y.V2);p(!1),u(n)})).catch((function(e){s(e),p(!1)}))}),[m,p,u,s,t]);var ee=function(){p(!0)},te=[{type:"view",onClick:function(e){M(e),Q(!0)}},{type:"delete",onClick:function(e){M(e),w(!0)}}];return(0,F.jsxs)(r.Fragment,{children:[v&&(0,F.jsx)(ae,{open:v,closeModalAndRefresh:function(e){!function(e){if(j(!1),ee(),null!==e){var n={console:{accessKey:"".concat(e.accessKey),secretKey:"".concat(e.secretKey),url:"".concat(e.url)}};L(n),B(!0)}}(e)},user:t}),A&&(0,F.jsx)(ce.default,{deleteOpen:A,selectedServiceAccount:E,closeDeleteModalAndRefresh:function(e){!function(e){w(!1),e&&ee()}(e)}}),$&&(0,F.jsx)(de.Z,{deleteOpen:$,selectedSAs:G,closeDeleteModalAndRefresh:function(e){q(!1),e&&((0,a.y1)("Service accounts deleted successfully."),V([]),p(!0))}}),D&&(0,F.jsx)(le.default,{newServiceAccount:K,open:D,closeModal:function(){B(!1),L(null)},entity:"Service Account"}),J&&(0,F.jsx)(fe.Z,{open:J,selectedAccessKey:E,closeModalAndRefresh:function(){Q(!1),p(!0)}}),(0,F.jsxs)("div",{className:n.actionsTray,children:[(0,F.jsx)(ue.Z,{children:"Service Accounts"}),(0,F.jsxs)(ne.Z,{children:[(0,F.jsx)(T.Z,{tooltip:"Delete Selected",onClick:function(){q(!0)},text:"Delete Selected",icon:(0,F.jsx)(b.pJ,{}),color:"secondary",disabled:0===G.length,variant:"outlined"}),(0,F.jsx)(T.Z,{tooltip:"Create service account",text:"Create service account",variant:"contained",color:"primary",icon:(0,F.jsx)(b.dt,{}),onClick:function(){j(!0),j(!0),M(null)},disabled:!i})]})]}),(0,F.jsx)("div",{className:n.tableBlock,children:(0,F.jsx)(C.Z,{isLoading:m,records:l,entityName:"Service Accounts",idField:"",columns:[{label:"Service Account",elementKey:""}],itemActions:te,selectedItems:G,onSelect:function(e){return(0,he._0)(e,V,G)},onSelectAll:function(){G.length!==l.length?V(l):V([])}})})]})}))),xe=(0,o.$j)(null,{setModalErrorSnackMessage:a.zb}),Ze=(0,Z.Z)((function(e){return(0,x.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)({buttonContainer:{textAlign:"right"}},S.ID),S.DF),S.bK),(0,S.Bz)(e.spacing(4))))}))(xe((function(e){var n=e.classes,t=e.open,s=e.userName,i=e.closeModal,o=e.setModalErrorSnackMessage,a=(0,r.useState)(""),c=(0,d.Z)(a,2),l=c[0],u=c[1],h=(0,r.useState)(""),f=(0,d.Z)(h,2),m=f[0],p=f[1],x=(0,r.useState)(!1),Z=(0,d.Z)(x,2),y=Z[0],S=Z[1];return t?(0,F.jsx)(W.Z,{title:"Change User Password",modalOpen:t,onClose:function(){u(""),p(""),i()},titleIcon:(0,F.jsx)(b.I,{}),children:(0,F.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){!function(e){if(e.preventDefault(),!y){if(S(!0),l.length<8)return o({errorMessage:"Passwords must be at least 8 characters long",detailedError:""}),void S(!1);var n={selectedUser:s,newSecretKey:l};g.Z.invoke("POST","/api/v1/account/change-user-password",n).then((function(e){S(!1),u(""),p(""),i()})).catch((function(e){S(!1),u(""),p(""),o(e)}))}}(e)},children:(0,F.jsxs)(v.ZP,{container:!0,children:[(0,F.jsxs)(v.ZP,{item:!0,xs:12,className:n.modalFormScrollable,children:[(0,F.jsxs)("div",{className:n.spacerBottom,children:["Change password for: ",s]}),(0,F.jsx)(v.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,F.jsx)(se.Z,{id:"new-password",name:"new-password",onChange:function(e){u(e.target.value)},label:"New Password",type:"password",value:l})}),(0,F.jsx)(v.ZP,{item:!0,xs:12,className:n.formFieldRow,children:(0,F.jsx)(se.Z,{id:"re-new-password",name:"re-new-password",onChange:function(e){p(e.target.value)},label:"Type New Password Again",type:"password",value:m})})]}),(0,F.jsx)(v.ZP,{item:!0,xs:12,className:n.buttonContainer,children:(0,F.jsx)(G.Z,{type:"submit",variant:"contained",color:"primary",disabled:y||!(m.length>0&&l===m),children:"Save"})}),y&&(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsx)(j.Z,{})})]})})}):null}))),ge=t(51691),ve=t(9505),je=t(23508),ye={setErrorSnackMessage:a.Ih},be=(0,o.$j)(null,ye)((function(e){var n=e.closeDeleteModalAndRefresh,t=e.deleteOpen,r=e.userName,i=e.setErrorSnackMessage,o=(0,ve.Z)((function(){s.Z.push(R.gA.USERS)}),(function(e){return i(e)})),a=(0,d.Z)(o,2),c=a[0],l=a[1];if(!r)return null;return(0,F.jsx)(je.Z,{title:"Delete User",confirmText:"Delete",isOpen:t,isLoading:c,onConfirm:function(){l("DELETE","/api/v1/user?name=".concat(encodeURI(r)),{id:r})},onClose:function(){return n(!1)},titleIcon:(0,F.jsx)(b.Nv,{}),confirmationContent:(0,F.jsxs)(ge.Z,{children:["Are you sure you want to delete user ",(0,F.jsx)("br",{}),(0,F.jsx)("b",{children:r}),"?"]})})})),Se=t(14917),Ce=t(14662),ke=t(84669),Ae={setErrorSnackMessage:a.Ih},we=(0,o.$j)(null,Ae),Ne=(0,Z.Z)((function(e){return(0,x.Z)((0,f.Z)((0,f.Z)((0,f.Z)((0,f.Z)({pageContainer:{border:"1px solid #EAEAEA"},statusLabel:{fontSize:".8rem",marginRight:".5rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".5rem"},breadcrumLink:{textDecoration:"none",color:"black"}},S.OR),S.qg),S.VX),(0,S.Bz)(e.spacing(4))))}))(we((function(e){var n=e.classes,t=e.match,i=(0,r.useState)(!1),o=(0,d.Z)(i,2),c=o[0],u=o[1],h=(0,r.useState)(!1),f=(0,d.Z)(h,2),m=f[0],p=f[1],x=(0,r.useState)(!1),Z=(0,d.Z)(x,2),j=Z[0],y=Z[1],S=(0,r.useState)(!1),A=(0,d.Z)(S,2),w=A[0],N=A[1],E=(0,r.useState)(!1),M=(0,d.Z)(E,2),I=M[0],D=M[1],B=(0,r.useState)([]),O=(0,d.Z)(B,2),U=O[0],K=O[1],L=(0,r.useState)([]),_=(0,d.Z)(L,2),z=_[0],G=_[1],V=(0,r.useState)([]),W=(0,d.Z)(V,2),H=W[0],$=W[1],q=(0,r.useState)(!1),Y=(0,d.Z)(q,2),J=Y[0],Q=Y[1],ne=(0,r.useState)(!1),te=(0,d.Z)(ne,2),se=te[0],ie=te[1],oe=(0,r.useState)(!1),ae=(0,d.Z)(oe,2),ce=ae[0],le=ae[1],de=t.params.userName,he=(0,r.useCallback)((function(){if(""===de)return null;u(!0),g.Z.invoke("GET","/api/v1/user?name=".concat(encodeURIComponent(de))).then((function(e){N(!1);var n=e.memberOf||[];K(n);var t,r=[],s=(0,l.Z)(n);try{for(s.s();!(t=s.n()).done;){var i=t.value;r.push({group:i})}}catch(h){s.e(h)}finally{s.f()}G(r);var o,a=[],c=(0,l.Z)(e.policy);try{for(c.s();!(o=c.n()).done;){var d=o.value;a.push({policy:d})}}catch(h){c.e(h)}finally{c.f()}$(a),D("enabled"===e.status),le(e.hasPolicy),u(!1)})).catch((function(e){N(!1),u(!1),(0,a.zb)(e)}))}),[de]);(0,r.useEffect)((function(){he()}),[he]);return(0,F.jsxs)(r.Fragment,{children:[(0,F.jsx)(k.Z,{label:(0,F.jsx)(r.Fragment,{children:(0,F.jsx)(ke.Z,{label:"User",to:R.gA.USERS})}),actions:(0,F.jsx)(r.Fragment,{})}),m&&(0,F.jsx)(X,{open:m,selectedUser:de,closeModalAndRefresh:function(){p(!1),he()}}),j&&(0,F.jsx)(ee,{open:j,selectedUser:de,currentPolicies:H,closeModalAndRefresh:function(){y(!1),he()}}),se&&(0,F.jsx)(be,{deleteOpen:se,userName:de,closeDeleteModalAndRefresh:function(e){!function(e){ie(!1),e&&he()}(e)}}),J&&(0,F.jsx)(Ze,{open:J,userName:de,closeModal:function(){return Q(!1)}}),(0,F.jsxs)(P.Z,{className:n.pageContainer,children:[(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsx)(Se.Z,{icon:(0,F.jsx)(r.Fragment,{children:(0,F.jsx)(b.oy,{width:40})}),title:de,actions:(0,F.jsxs)(r.Fragment,{children:[(0,F.jsx)("span",{className:n.statusLabel,children:"User Status:"}),(0,F.jsx)("span",{className:n.statusValue,children:I?"Enabled":"Disabled"}),(0,F.jsx)(re.Z,{indicatorLabels:["Enabled","Disabled"],checked:I,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;D(!I),e=!I,w||(N(!0),g.Z.invoke("PUT","/api/v1/user?name=".concat(encodeURIComponent(de)),{status:e?"enabled":"disabled",groups:U}).then((function(e){N(!1)})).catch((function(e){N(!1),(0,a.zb)(e)})))},switchOnly:!0}),(0,F.jsx)(T.Z,{tooltip:"Delete User",text:"",onClick:function(){ie(!0)},icon:(0,F.jsx)(b.XH,{}),color:"secondary",variant:"outlined"}),(0,F.jsx)(T.Z,{tooltip:"Change Password",text:"",onClick:function(){Q(!0)},icon:(0,F.jsx)(b.tv,{}),color:"primary",variant:"outlined"})]})})}),(0,F.jsx)(v.ZP,{item:!0,xs:12,children:(0,F.jsxs)(Ce.Z,{children:[{tabConfig:{label:"Groups"},content:(0,F.jsxs)(r.Fragment,{children:[(0,F.jsxs)("div",{className:n.actionsTray,children:[(0,F.jsx)(ue.Z,{children:"Groups"}),(0,F.jsx)(T.Z,{tooltip:"Add to Groups",text:"Add to Groups",onClick:function(){p(!0)},icon:(0,F.jsx)(b.dt,{}),color:"primary",variant:"contained"})]}),(0,F.jsx)("div",{className:n.tableBlock,children:(0,F.jsx)(C.Z,{columns:[{label:"Name",elementKey:"group"}],isLoading:c,records:z,entityName:"Groups",idField:"group"})})]})},{tabConfig:{label:"Service Accounts"},content:(0,F.jsx)(pe,{user:de,hasPolicy:ce})},{tabConfig:{label:"Policies"},content:(0,F.jsxs)(r.Fragment,{children:[(0,F.jsxs)("div",{className:n.actionsTray,children:[(0,F.jsx)(ue.Z,{children:"Policies"}),(0,F.jsx)(T.Z,{tooltip:"Assign Policies",text:"Assign Policies",onClick:function(){y(!0)},icon:(0,F.jsx)(b.v4,{}),color:"primary",variant:"contained"})]}),(0,F.jsx)("div",{className:n.tableBlock,children:(0,F.jsx)(C.Z,{itemActions:[{type:"view",onClick:function(e){s.Z.push("".concat(R.gA.POLICIES,"/").concat(e.policy))}}],columns:[{label:"Name",elementKey:"policy"}],isLoading:c,records:H,entityName:"Policies",idField:"policy"})})]})}]})})]})]})}))),Pe=(0,o.$j)((function(e){return{open:e.system.sidebarOpen}}),{setMenuOpen:a.gG}),Ee=(0,i.EN)(Pe((function(){return(0,F.jsx)(i.F0,{history:s.Z,children:(0,F.jsxs)(i.rs,{children:[(0,F.jsx)(i.AW,{path:R.gA.USERS_VIEW,component:Ne}),(0,F.jsx)(i.AW,{path:R.gA.USERS,component:z}),(0,F.jsx)(i.AW,{component:c.Z})]})})})))},50099:function(e,n,t){t.d(n,{Z:function(){return l}});t(72791);var r=t(64554),s=t(20890),i=t(23060),o=t(80184);function a(){return(0,o.jsxs)(s.Z,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",(0,o.jsx)(i.Z,{color:"inherit",href:"https://min.io/?ref=con",children:"MinIO"})," ",(new Date).getFullYear(),"."]})}var c=t(74794),l=function(){return(0,o.jsx)(c.Z,{children:(0,o.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center",margin:"auto",flexFlow:"column"},children:[(0,o.jsx)(r.Z,{sx:{fontSize:"110%",margin:"0 0 0.25rem",color:"#909090"},children:"404 Error"}),(0,o.jsx)(r.Z,{sx:{fontStyle:"normal",fontSize:"clamp(2rem,calc(2rem + 1.2vw),3rem)",fontWeight:700},children:"Sorry, the page could not be found."}),(0,o.jsx)(r.Z,{mt:5,children:(0,o.jsx)(a,{})})]})})}},23060:function(e,n,t){t.d(n,{Z:function(){return k}});var r=t(29439),s=t(4942),i=t(63366),o=t(87462),a=t(72791),c=t(28182),l=t(90767),u=t(18529),d=t(12065),h=t(14036),f=t(47630),m=t(93736),p=t(23031),x=t(42071),Z=t(20890),g=t(95159);function v(e){return(0,g.Z)("MuiLink",e)}var j=(0,t(30208).Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),y=t(80184),b=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],S={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},C=(0,f.ZP)(Z.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,h.Z)(t.underline))],"button"===t.component&&n.button]}})((function(e){var n=e.theme,t=e.ownerState,r=(0,u.D)(n,"palette.".concat(function(e){return S[e]||e}(t.color)))||t.color;return(0,o.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==r?(0,d.Fq)(r,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===t.component&&(0,s.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(j.focusVisible),{outline:"auto"}))})),k=a.forwardRef((function(e,n){var t=(0,m.Z)({props:e,name:"MuiLink"}),s=t.className,u=t.color,d=void 0===u?"primary":u,f=t.component,Z=void 0===f?"a":f,g=t.onBlur,j=t.onFocus,S=t.TypographyClasses,k=t.underline,A=void 0===k?"always":k,w=t.variant,N=void 0===w?"inherit":w,P=(0,i.Z)(t,b),E=(0,p.Z)(),M=E.isFocusVisibleRef,R=E.onBlur,T=E.onFocus,I=E.ref,F=a.useState(!1),D=(0,r.Z)(F,2),B=D[0],O=D[1],U=(0,x.Z)(n,I),K=(0,o.Z)({},t,{color:d,component:Z,focusVisible:B,underline:A,variant:N}),L=function(e){var n=e.classes,t=e.component,r=e.focusVisible,s=e.underline,i={root:["root","underline".concat((0,h.Z)(s)),"button"===t&&"button",r&&"focusVisible"]};return(0,l.Z)(i,v,n)}(K);return(0,y.jsx)(C,(0,o.Z)({className:(0,c.Z)(L.root,s),classes:S,color:d,component:Z,onBlur:function(e){R(e),!1===M.current&&O(!1),g&&g(e)},onFocus:function(e){T(e),!0===M.current&&O(!0),j&&j(e)},ref:U,ownerState:K,variant:N},P))}))},15861:function(e,n,t){function r(e,n,t,r,s,i,o){try{var a=e[i](o),c=a.value}catch(l){return void t(l)}a.done?n(c):Promise.resolve(c).then(r,s)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(s,i){var o=e.apply(n,t);function a(e){r(o,s,i,a,c,"next",e)}function c(e){r(o,s,i,a,c,"throw",e)}a(void 0)}))}}t.d(n,{Z:function(){return s}})}}]);
//# sourceMappingURL=1925.6ed683c6.chunk.js.map